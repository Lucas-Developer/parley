<!DOCTYPE html>
<html>
    <head>
	<link rel="stylesheet" type="text/css" href="style/html5-doctor-reset-stylesheet.min.css">
	<link rel="stylesheet" type="text/css" href="lib/jquery-ui-1.10.3.custom/css/humanity/jquery-ui.min.css">
	<link rel="stylesheet" type="text/css" href="style/client.css">
	<link rel="stylesheet" type="text/css" href="style/autoSuggest.css">
	
	<script type="text/javascript" src="lib/jquery-2.0.2.min.js"></script>

	<title>Parley - myemail@parley.com</title>
    </head>
    <body class="loggedout">
	    <header class="loggedin"></header>
	    <section id="inbox" class="NOTloggedin"><table cellspacing=2><tbody></tbody></table></section>
        <div id="dialogWrapper"></div>

<script id="blankDialogTemplate" type="text/template">
    <div class="page page-active">
        <h2>{{header}}</h2>
        <p>{{message}}</p>
        <div class="buttons">
        {{#buttons}}
            <button id="{{id}}">{{text}}</button>
        {{/buttons}}
        </div>
    </div>
</script>
<script id="loadingDialogTemplate" type="text/template">
    <div class="page page-active">
        <h2>{{^header}}Patience is a virtue!{{/header}}{{header}}</h2>
        <div class="loading-image"></div>
        <p>{{message}}</p>
        <div class="buttons">
        {{#buttons}}
            <button id="{{id}}">{{text}}</button>
        {{/buttons}}
        </div>
    </div>
</script>
<script id="setupDialogTemplate" type="text/template">
	<div class="page page-splash page-active">
        <p id="text_message">{{message}}</p>
	    <form name="emailVerify">
			<div class="row">
	        	<label for="email">Enter your email
	        		<input type="email" name="email">
				</label>
			</div>

	        <button id="emailVerify">Submit</button>

	    </form>
	</div>
    <div class="page page-login">
      <!--<p>That email is registered with Parley!</p>-->
        <p id="text_message">{{message}}</p>
        <form name="loginAction">
            <div class="row">
                <label for="email" class="half">Email
                    <input type="email" name="email" value="{{email}}" readonly>
                </label>
                <label for="password" class="half">Password
                    <input type="password" name="password">
                </label>
                <!--<a href="#" class="extra-link">Forgot password?</a>-->
            </div>

            <button id="loginAction">Log in</button>
        </form>
    </div>
    <div class="page page-register">
        <p>Set Up Your Parley Account</p>
        <p id="text_message">{{message}}</p>
        <form name="registerAction">
            <div class="row">
                <label class="tab tab-active" for="email">Email
                    <div class="full-width"><input type="email" name="email" id="registerEmailField" value="{{email}}" readonly>
                        <div class="status">
                            <img src="img/ajax-loader.gif" class="loader">
                            <img src="img/icon-success.png" class="status-success">
                            <img src="img/icon-error.png" class="status-error">
                        </div>
                    </div>
                </label>
            </div>
            <div class="row">
                <label for="name">Name
                    <input type="text" name="name">
                </label>
            </div>
            <div class="row" id="passwordInfo">
                <label for="password_one" class="half">Choose a password
                    <input type="password" name="password_one">
                </label>
                <label for="password_two" class="half">Confirm password
                    <input type="password" name="password_two">
                </label>
            </div>
            <div class="row" id="paymentInfo">
                <div class="tab message tab-active"> </div>
            </div>

            <button id="registerAction">Register</button>
        </form>
    </div>
</script>

<script type="text/template" id="settingsDialogTemplate">
	<form name="settings">
	    <h4>Personal information</h4>
	    <div class="row">
	        <label for="fName">Name
	        	<input type="text" value="{{name}}" name="fName">
			</label>
	    </div>
	    <h4></h4>
	    <div class="row">
	    </div>
	    <h4>Password</h4>
	    <div class="row">
			<label for="cur_password">Current password
				<input type="text" name="cur_password">
			</label>

			<label for="new_password_1">New password
				<input type="text" name="new_password_1">
			</label>

			<label for="new_password_2">Confirm new password
				<input type="text" name="new_password_2">
			</label>
	    </div>

	    <button id="saveSettings">Save settings</button>
	</form>
</script>

<script type="text/template" id="contactsDialogTemplate">
    <div class="page page-contactlist page-active">
    <div id="singleContact">
        {{#selected}}
            <img src="{{thumbnail}}" />
            <p>{{name}}</p>
            <p>{{email}}</p>
        {{/selected}}
    </div>
	<input type="search" placeholder="Search..." name="contactSearch">
	<table class="sortable">
	    <thead>
		<tr><th class="thumbnail"></th><th>Name</th><th>Email</th><th class="buttons"></th></tr>
	    </thead>
	    <tbody id="contactsList">
	    </tbody>
	</table>
    <button id="newContact">New Contact</button>
    </div>
    <div class="page page-newcontact">
    <form name="newcontact">
        <h4>Add new contact</h4>
	    <div class="row">
			<label for="contact_email">Email
				<input type="text" name="email">
			</label>

			<label for="contact_name">Name
				<input type="text" name="name">
			</label>
	    </div>
        <button id="addContact">Save Contact</button>
    </form>
    </div>
</script>

    <script type="text/template" id="nokeyDialogTemplate">
        <p>Some recipients don't have associated PGP keys, so we can not send them encrypted email.</p>
        <table class="sortable">
        <thead>
            <tr><th class="selector sorttable_nosort"><a class="clicked"></th><th>Email</th><th class="buttons"></th></tr>
        </thead>
        <tbody id="noKeyEmailsList">
            {{#emails}}
                <tr><td class="selector"><a></a></td><td class="email">{{email}}</td><td></td></tr>
            {{/emails}}
        </tbody>
        </table>
        <button id="inviteAction" name="invite">Send invite<span class="pl"></span> to selected user<span class="pl"></span>.</button>
    </script>
    
    <script type="text/template" id="headerTemplate">
	    <h1><span>Parley</span></h1>
	    <span class="email loggedin"></span>

        <section id="inbox-utilities" class="no-sel loggedin">
            <button id="composeAction" class="no-sel" name="compose">compose</button>
            <!--<button id="replyAction" class="has-sel" name="reply">reply</button>-->
        </section>
	    <nav>
            <button class="loggedin" name="open-contacts" id="contactsAction">contacts</button>
            <button class="loggedin" name="settings" id="settingsAction">settings</button>
	    </nav>
    </script>
	<script type="text/template" id="composeDialogTemplate">
	    <form id="composeForm">
		<div class="row" id="recipients">
			<label for="to">To
				<input type="text" name="to"{{#to}} value="{{email}}"{{/to}}>
			</label>
			<label {{^cc}}class="hidden" {{/cc}}for="cc">Cc
				<input type="text" name="cc"{{#cc}} value="{{email}}"{{/cc}}>
			</label>
			<label {{^bcc}}class="hidden" {{/bcc}}for="bcc">Bcc
				<input type="text" name="bcc">
			</label>
        </div>
        <div class="row">
			<label for="subject">Subject
				<input type="text" name="subject" value="{{subject}}">
			</label>
            <label for="body">
		        <textarea rows="6" name="body">{{#body}}{{content}}{{/body}}</textarea>
            </label>
        </div>

	    <button id="sendAction">Send</button>

	    </form>
	</script>

	<script type="text/template" id="messageTemplate">
        <td class="selector"><a {{#selected}}class="clicked"{{/selected}}></a></td>
		<td class="from">{{#addresses}}{{#from}}{{name}}{{^name}}{{email}}{{/name}}{{/from}}{{/addresses}}</td>
		<td class="subject">{{subject}}</td>
		<td class="date"></td>
	</script>
	<script type="text/template" id="readMessageTemplate">
        <td colspan="4"><div class="buttons"><button class="reply">Reply</button></div>{{body}}</td>
	</script>
	<script type="text/template" id="contactTemplate">
		<td class="thumbnail"><img src="{{thumbnail}}"></td>
	    <td>{{name}}</td>
	    <td>{{email}}</td>
		<td class="buttons"><button class="send">send email</button></td>
	</script>
	
	<script type="text/javascript" src="lib/jquery-ui-1.10.3.custom/js/jquery-ui-1.10.3.custom.min.js"></script>
	<script type="text/python" src="lib/parley.utility.py"></script>
	<script type="text/javascript" src="lib/parley.utility.js"></script>
	<script type="text/javascript" src="lib/underscore-min.js"></script>
	<script type="text/javascript" src="lib/backbone-min.js"></script>
	<script type="text/javascript" src="lib/mustache.js"></script>
	<script type="text/javascript" src="lib/moment.min.js"></script>
	<script type="text/javascript" src="lib/sorttable.js"></script>
	<script type="text/javascript" src="lib/jquery.i18n.min.js"></script>
	<script type="text/javascript" src="lib/jquery.autoSuggest.min.js"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/webfont/1.4.2/webfont.js"></script>
	<script type="text/javascript" src="client.js"></script>
    </body>
</html>
